# SwiftFormat Configuration for SwiftAgents
# https://github.com/nicklockwood/SwiftFormat

# Swift version
--swiftversion 6.2

# File options
--exclude .build,Package.swift,Sources/SwiftAgentsMacros

# Indentation
--indent 4
--tab-width 4
--smart-tabs enabled
--indent-case false
--ifdef indent

# Braces and spacing
--allman false
--else-position same-line
--guard-else same-line

# Wrapping - use preserve to avoid breaking valid code
--wrap-arguments preserve
--wrap-parameters preserve
--wrap-collections preserve
--wrap-conditions preserve
--wrap-return-type preserve
--wrap-effects preserve
--max-width 120
--closing-paren balanced

# Spacing - use safe defaults
--operator-func spaced
--ranges preserve
--type-delimiter space-after

# Blank lines
--empty-braces no-space
--trim-whitespace always
--linebreaks lf

# Semicolons
--semicolons never

# Commas
--trailing-commas never

# Types
--property-types infer-locals-only
--self remove
--extension-acl on-extension
--nil-init remove

# Void
--void-type Void

# Marks
--mark-types always
--mark-extensions always
--extension-mark "MARK: - %t + %c"
--grouped-extension "MARK: %c"

# Imports
--import-grouping alpha

# Self
--self-required

# Modifiers
--modifier-order acl,setterACL,override,mutating,lazy,final,required,convenience,typeMethods,owned

# Enabled rules
--enable isEmpty
--enable sortSwitchCases
--enable wrapEnumCases
--enable wrapSwitchCases
--enable blankLinesBetweenImports
--enable docComments
--enable markTypes
--enable organizeDeclarations
--enable sortImports

# Disabled rules - disable potentially breaking rules
--disable trailingCommas
--disable wrapMultilineStatementBraces
--disable blankLineAfterImports
--disable acronyms
--disable wrap
--disable wrapArguments
--disable wrapConditionalBodies

# Declaration organization (matches MARK style in codebase)
--organize-types actor,class,enum,struct,extension,protocol
--organization-mode visibility
--visibility-order open,public,package,internal,fileprivate,private
--type-order beforeMarks,nestedType,staticProperty,staticPropertyWithBody,classPropertyWithBody,instanceProperty,instancePropertyWithBody,instanceLifecycle,staticMethod,classMethod,instanceMethod
